import java.util.*;
import java.io.*;

public class Solution{
    static ArrayList<Integer> nextSmallerElement(ArrayList<Integer> arr, int n){
        Stack<Integer> st = new Stack<>();
        int ans[] = new int[n];
        ArrayList<Integer> list = new ArrayList<>();

        for(int i = n-1; i >= 0; i--){
            int curr = arr.get(i);

            while(!st.isEmpty() && st.peek() >= curr){
                st.pop();
            }
            if(i < n){
                ans[i] = st.isEmpty() ? -1 : st.peek();
            }
            st.push(curr);
        }

        for(int i = 0;i < ans.length; i++){
            list.add(ans[i]);
        }

        return list;
    }
}
